(this.webpackJsonpfat=this.webpackJsonpfat||[]).push([[11],{1689:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return se}));var n=a(0),r=a(17),c=a(647),i=a(5),s=a(591),o=a(588),l=a(415),u=a(183),d=a(27),b=a(701),j=a(18),p=a(6),m=a(33),O=a(11),h=a(3),g=a(95),f=a(414),x=a(545),v=a(55),w=a(570),N=a(549),P=a(960),I=a.n(P),y=a(961),T=a.n(y),k=a(575),C=a(576),F=a(571),S=a(358),A=a(931),_=a.n(A),R=a(932),B=a.n(R),E=a(578),D=a(962),L=a.n(D),U=a(812),W=a.n(U),G=a(963),M=a.n(G),H=a(964),z=a.n(H),J=a(965),V=a.n(J),Y=a(417),q=a(538),K=a(539),Q=a(1),X=["className"],Z=Object(c.a)((function(e){return{root:{},cover:{position:"relative",height:320,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center","&:before":{position:"absolute",content:'" "',top:0,left:0,height:"100%",width:"100%",backgroundImage:"linear-gradient(-180deg, rgba(0,0,0,0.00) 58%, rgba(0,0,0,0.32) 100%)"}},addPhotoIcon:{marginRight:e.spacing(1)},container:Object(j.a)({width:e.breakpoints.values.lg,maxWidth:"100%",padding:e.spacing(2,3),margin:"0 auto",position:"relative",display:"flex",flexWrap:"wrap"},e.breakpoints.down("sm"),{flexDirection:"column"}),avatar:{border:"2px solid ".concat(e.palette.white),height:130,width:130,top:-60,left:e.spacing(3),position:"absolute"},avatarSmall:{border:"2px solid ".concat(e.palette.white),height:100,width:100,top:-60,left:e.spacing(3),position:"absolute"},details:{marginLeft:150,flex:"auto"},detailsSmall:{marginLeft:100,flex:"auto"},actionButtons:{margin:e.spacing(1)},moreIcon:{flex:"auto"},pendingButton:{color:e.palette.white,backgroundColor:i.a.red[600],"&:hover":{backgroundColor:i.a.red[900]}},personAddIcon:{marginRight:e.spacing(1)},mailIcon:{marginRight:e.spacing(1)}}})),$=function(e){var t=e.className,a=Object(O.a)(e,X),r=Z(),c=Object(d.b)(),i=Object(d.c)((function(e){return e.auth}));Object(n.useEffect)((function(){c(Object(b.b)(i._id))}),[i._id,c]);var s=Object(d.c)((function(e){return e.userById}));return Object(Q.jsxs)("div",Object(p.a)(Object(p.a)({},a),{},{className:Object(h.default)(r.root,t),children:[Object(Q.jsx)("div",{className:r.cover,style:{backgroundImage:"url(".concat(s.coverPicture,")")}}),Object(Q.jsx)(q.a,{smDown:!0,children:Object(Q.jsxs)("div",{className:r.container,children:[Object(Q.jsx)(K.a,{alt:"Person",className:r.avatar,src:s.profilePicture}),Object(Q.jsxs)("div",{className:r.details,children:[Object(Q.jsx)(v.a,{component:"h2",variant:"overline",children:s.bio}),Object(Q.jsx)(v.a,{component:"h1",variant:"h2",children:s.name}),Object(Q.jsxs)(v.a,{component:"h2",variant:"body1",children:[s.from,", ",s.city]})]})]})}),Object(Q.jsx)(q.a,{mdUp:!0,children:Object(Q.jsxs)("div",{className:r.container,children:[Object(Q.jsx)(K.a,{alt:"Person",className:r.avatarSmall,src:s.profilePicture}),Object(Q.jsxs)("div",{className:r.detailsSmall,children:[Object(Q.jsx)(v.a,{component:"h2",variant:"overline",children:s.bio}),Object(Q.jsx)(v.a,{component:"h1",variant:"h2",children:s.name}),Object(Q.jsxs)(v.a,{component:"h2",variant:"body1",children:[s.from,", ",s.city]})]})]})})]}))},ee=["id","className"],te=Object(c.a)((function(e){return{root:{height:"100vh"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"82%",margin:e.spacing(1,"9%",5)},profileExample:{marginTop:e.spacing(3)},submit:{margin:e.spacing(3,"25%",3),width:"50%"},textField:{width:"100%"},acceptNewProfile:{marginTop:e.spacing(2)},margin:{marginTop:e.spacing(1)},password:{}}})),ae=function(e){e.id;var t=e.className,a=Object(O.a)(e,ee),r=te(),c=Object(d.b)(),i=Object(d.c)((function(e){return e.auth})),s=Object(n.useState)({password:"",showPassword:!1}),o=Object(m.a)(s,2),l=o[0],u=o[1],P=Object(n.useState)({userId:i._id,name:i.name,email:i.email,password:i.password,bio:i.bio,profilePicture:i.profilePicture,coverPicture:i.coverPicture,isAdmin:i.isAdmin,city:i.city,from:i.from,role:i.role,age:i.age}),y=Object(m.a)(P,2),A=y[0],R=y[1];return Object(Q.jsxs)(f.a,Object(p.a)(Object(p.a)({},a),{},{container:!0,className:Object(h.default)(r.root,t),children:[Object(Q.jsxs)(f.a,{item:!0,xs:12,sm:5,md:7,className:r.profileExample,children:[Object(Q.jsx)($,{}),Object(Q.jsx)(v.a,{variant:"subtitle1",align:"center",children:'\u0427\u0442\u043e\u0431\u044b \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 "\u043f\u0430\u0440\u043e\u043b\u044c" \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c.'})]}),Object(Q.jsx)(f.a,{item:!0,xs:12,sm:7,md:5,children:Object(Q.jsxs)("form",{className:r.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),c(Object(b.d)(A,i._id)),c(Object(g.b)(A.email,A.password))},children:[Object(Q.jsx)(w.a,{id:"name",autoFocus:!0,autoComplete:"name",value:A.name,onChange:function(e){return R(Object(p.a)(Object(p.a)({},A),{},{name:e.target.value}))},helperText:"\u0418\u043c\u044f: \u043e\u0442 3 \u0434\u043e 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",className:Object(h.default)(r.margin,r.textField),InputProps:{startAdornment:Object(Q.jsx)(N.a,{position:"start",children:Object(Q.jsx)(I.a,{})})}}),Object(Q.jsx)(w.a,{label:"\u0411\u0438\u043e...",id:"bio",multiline:!0,rows:4,className:Object(h.default)(r.margin,r.textField),InputProps:{startAdornment:Object(Q.jsx)(N.a,{position:"start",children:Object(Q.jsx)(L.a,{})})},autoFocus:!0,value:A.bio,onChange:function(e){return R(Object(p.a)(Object(p.a)({},A),{},{bio:e.target.value}))},variant:"filled",helperText:"\u0414\u043e 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}),Object(Q.jsx)(w.a,{label:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430",id:"profilePicture",className:Object(h.default)(r.margin,r.textField),InputProps:{startAdornment:Object(Q.jsx)(N.a,{position:"start",children:Object(Q.jsx)(W.a,{})})},variant:"filled",helperText:"\u041f\u043e\u043a\u0430 \u0447\u0442\u043e \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u043e\u0442\u043a\u0443",autoFocus:!0,value:A.profilePicture,onChange:function(e){return R(Object(p.a)(Object(p.a)({},A),{},{profilePicture:e.target.value}))}}),Object(Q.jsx)(w.a,{label:"\u041a\u0430\u0432\u0435\u0440 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",id:"coverPicture",className:Object(h.default)(r.margin,r.textField),InputProps:{startAdornment:Object(Q.jsx)(N.a,{position:"start",children:Object(Q.jsx)(M.a,{})})},variant:"filled",helperText:"\u0422\u043e\u0436\u0435 \u0441\u0441\u044b\u043b\u043e\u0447\u043a\u0430",autoFocus:!0,value:A.coverPicture,onChange:function(e){return R(Object(p.a)(Object(p.a)({},A),{},{coverPicture:e.target.value}))}}),Object(Q.jsxs)(f.a,{container:!0,children:[Object(Q.jsx)(f.a,{xs:12,sm:4,spacing:2,children:Object(Q.jsx)(w.a,{id:"isAdmin",select:!0,label:"\u0410\u0434\u043c\u0438\u043d?",className:Object(h.default)(r.margin,r.textField),helperText:"\u041d\u0435\u0442!)",fullwidth:!0,value:A.isAdmin,onChange:function(e){return R(Object(p.a)(Object(p.a)({},A),{},{isAdmin:e.target.value}))},children:[{value:"true",label:"\u0414\u0430"},{value:"false",label:"\u041d\u0435\u0442"}].map((function(e){return Object(Q.jsx)(x.a,{value:e.value,children:e.label},e.value)}))})}),Object(Q.jsx)(f.a,{xs:12,sm:4,spacing:2,children:Object(Q.jsx)(w.a,{id:"role",select:!0,label:"\u0412\u0430\u0448\u0430 \u0440\u043e\u043b\u044c?",className:Object(h.default)(r.margin,r.textField),helperText:"\u043e\u0434\u0438\u043d \u0438\u0437 \u0442\u0440\u0435\u0445...",fullwidth:!0,value:A.role,onChange:function(e){return R(Object(p.a)(Object(p.a)({},A),{},{role:e.target.value}))},children:[{value:"1",label:"\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"},{value:"2",label:"\u0422\u0440\u0435\u043d\u0435\u0440"},{value:"3",label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}].map((function(e){return Object(Q.jsx)(x.a,{value:e.value,children:e.label},e.value)}))})}),Object(Q.jsx)(f.a,{xs:12,sm:4,spacing:2,children:Object(Q.jsx)(w.a,{id:"age",label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",type:"date",className:Object(h.default)(r.margin,r.textField),defaultValue:Date.now(),InputLabelProps:{shrink:!0},value:A.age,onChange:function(e){return R(Object(p.a)(Object(p.a)({},A),{},{age:e.target.value}))}})}),Object(Q.jsx)(f.a,{xs:12,sm:6,spacing:2,children:Object(Q.jsx)(w.a,{id:"city",label:"\u0413\u043e\u0440\u043e\u0434?",className:Object(h.default)(r.margin,r.textField),helperText:"\u0414\u043e 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",fullwidth:!0,InputProps:{startAdornment:Object(Q.jsx)(N.a,{position:"start",children:Object(Q.jsx)(z.a,{})})},value:A.city,onChange:function(e){return R(Object(p.a)(Object(p.a)({},A),{},{city:e.target.value}))}})}),Object(Q.jsx)(f.a,{xs:12,sm:6,spacing:2,children:Object(Q.jsx)(w.a,{id:"from",label:"\u0421\u0442\u0440\u0430\u043d\u0430?",className:Object(h.default)(r.margin,r.textField),helperText:"\u0414\u043e 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",fullwidth:!0,InputProps:{startAdornment:Object(Q.jsx)(N.a,{position:"start",children:Object(Q.jsx)(V.a,{})})},value:A.from,onChange:function(e){return R(Object(p.a)(Object(p.a)({},A),{},{from:e.target.value}))}})})]}),Object(Q.jsxs)(f.a,{container:!0,className:r.acceptNewProfile,children:[Object(Q.jsx)(w.a,{id:"email",helperText:"Email: \u043e\u0442 3 \u0434\u043e 200 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",className:Object(h.default)(r.margin,r.textField),autoFocus:!0,autoComplete:"email",value:A.email,onChange:function(e){return R(Object(p.a)(Object(p.a)({},A),{},{email:e.target.value}))},InputProps:{startAdornment:Object(Q.jsx)(N.a,{position:"start",children:Object(Q.jsx)(T.a,{})})}}),Object(Q.jsxs)(k.a,{className:Object(h.default)(r.margin,r.textField,r.password),children:[Object(Q.jsx)(C.a,{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(Q.jsx)(F.a,{id:"password",type:l.showPassword?"text":"password",autoFocus:!0,autoComplete:"username",value:A.password,onChange:function(e){return R(Object(p.a)(Object(p.a)({},A),{},{password:e.target.value}))&&(t="password",function(e){u(Object(p.a)(Object(p.a)({},l),{},Object(j.a)({},t,e.target.value)))});var t},endAdornment:Object(Q.jsx)(N.a,{position:"end",children:Object(Q.jsx)(S.a,{onClick:function(){u(Object(p.a)(Object(p.a)({},l),{},{showPassword:!l.showPassword}))},onMouseDown:function(e){e.preventDefault()},children:l.showPassword?Object(Q.jsx)(_.a,{}):Object(Q.jsx)(B.a,{})})})}),Object(Q.jsx)(E.a,{id:"helperText",children:"\u043e\u0442 6 \u0434\u043e 200 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"})]}),Object(Q.jsx)(Y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:r.submit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})]}))},ne=["className"],re=Object(c.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(2,2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"82%",margin:e.spacing(5,"9%",5)},submit:{margin:e.spacing(3,"25%",2),width:"50%"},textField:{width:"100%"},margin:{marginBottom:e.spacing(1)}}})),ce=function(e){var t=e.className,a=Object(O.a)(e,ne),n=re();return Object(Q.jsx)("div",Object(p.a)(Object(p.a)({},a),{},{className:Object(h.default)(n.root,t),children:Object(Q.jsx)("form",{className:n.form,children:Object(Q.jsx)(f.a,{container:!0,children:"Access"})})}))},ie=Object(c.a)((function(e){return{root:{padding:e.spacing(2)},inner:{width:e.breakpoints.values.lg,maxWidth:"100%",margin:"0 auto"},divider:{backgroundColor:i.a.grey[400]},tabs:{},content:{marginRight:e.spacing(2),marginLeft:e.spacing(2),marginBottom:e.spacing(6)},innerContent:{}}})),se=function(e){var t=e.match,a=e.history,c=ie(),i=t.params.tab,j=Object(d.c)((function(e){return e.auth._id})),p=Object(d.b)();Object(n.useEffect)((function(){p(Object(b.b)(j))}),[j]);var m=Object(d.c)((function(e){return e}));console.log(m),Object(d.c)((function(e){return e.auth}))._id||a.push("/");var O=[{value:"general",label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"},{value:"access",label:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u044c"}];return O.find((function(e){return e.value===i}))?Object(Q.jsx)(u.a,{className:c.root,title:"Settings",children:Object(Q.jsxs)("div",{className:c.inner,children:[Object(Q.jsx)(s.a,{className:c.tabs,onChange:function(e,t){a.push(t)},scrollButtons:"auto",value:i,variant:"scrollable",children:O.map((function(e){return Object(Q.jsx)(o.a,{label:e.label,value:e.value},e.value)}))}),Object(Q.jsx)(l.a,{className:c.divider}),Object(Q.jsx)("div",{className:c.content,children:Object(Q.jsxs)("div",{className:c.innerContent,children:["general"===i&&Object(Q.jsx)(ae,{id:j}),"access"===i&&Object(Q.jsx)(ce,{})]})})]})}):Object(Q.jsx)(r.a,{to:"/errors/error-404"})}},701:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return j}));var n=a(704),r=a.n(n),c=a(735),i=a(29),s=a.n(i),o=a(15),l=a(9),u=function(e){return function(t){s.a.get("".concat(o.c,"/users/").concat(e),Object(o.a)()).then((function(e){t({type:"GET_USER_BY_ID",userById:e})})).catch((function(e){var t;console.log(e.response),l.b.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:l.b.POSITION.BOTTOM_RIGHT})}))}};function d(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,i,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=function(e){var t;console.log(e.response),l.b.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:l.b.POSITION.BOTTOM_RIGHT})},c=function(e){return n({type:"UNFOLLOW_USER",payload:e}),e},a.prev=2,a.next=5,s.a.put("".concat(o.c,"/users/").concat(t,"/unfollow"),{userId:e},Object(o.a)());case 5:return u=a.sent,a.abrupt("return",c(u));case 9:return a.prev=9,a.t0=a.catch(2),a.abrupt("return",i(a.t0));case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()}function b(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,i,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=function(e){var t;console.log(e.response),l.b.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:l.b.POSITION.BOTTOM_RIGHT})},c=function(e){return n({type:"FOLLOW_USER",payload:e}),e},a.prev=2,a.next=5,s.a.put("".concat(o.c,"/users/").concat(t,"/follow"),{userId:e},Object(o.a)());case 5:return u=a.sent,a.abrupt("return",c(u));case 9:return a.prev=9,a.t0=a.catch(2),a.abrupt("return",i(a.t0));case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()}var j=function(e,t){return function(a){s.a.put("".concat(o.c,"/users/").concat(t),e,Object(o.a)()).then((function(e){a({type:"UPDATE_USER",user:e.data})})).catch((function(e){var t;console.log(e),l.b.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:l.b.POSITION.BOTTOM_RIGHT})}))}}}}]);
//# sourceMappingURL=11.0acab31e.chunk.js.map