(this.webpackJsonpfat=this.webpackJsonpfat||[]).push([[4],{1147:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var a=n(34),c=n(12),i=n(7),o=n(17),r=n(0),s=n(3),l=n(576),j=n(454),d=n(96),b=n(430),u=n(456),p=n(374),O=n(233),g=n.n(O),h=n(29),f=n(395),m=n(781),x=n(112),y=n(782),v=n(1),k=["post","setPost","currentUserName","className"],C=Object(l.a)((function(t){var e;return{root:{marginTop:t.spacing(2)},content:(e={},Object(o.a)(e,t.breakpoints.up("sm"),{display:"flex"}),Object(o.a)(e,"alignItems","center"),e),sendButton:{width:"130"},paper:{flexGrow:1,padding:t.spacing(.5,1)},divider:Object(o.a)({},t.breakpoints.up("sm"),{width:1,height:24}),fileInput:{display:"none"},editorContainer:{padding:t.spacing(1),minHeight:60,"& .public-DraftEditorPlaceholder-root":Object(i.a)({},t.typography.body2),"& .public-DraftEditorPlaceholder-hasFocus":{display:"none"},"& .public-DraftEditor-content":{"& p":Object(i.a)({},t.typography.body1),"& h1":Object(i.a)({},t.typography.h1),"& h2":Object(i.a)({},t.typography.h2),"& h3":Object(i.a)({},t.typography.h3),"& h4":Object(i.a)({},t.typography.h4),"& h5":Object(i.a)({},t.typography.h5),"& h6":Object(i.a)({},t.typography.h6),"& blockquote":Object(i.a)({},t.typography.subtitle1),"& ul":Object(i.a)(Object(i.a)({},t.typography.body1),{},{marginLeft:t.spacing(4)}),"& ol":Object(i.a)(Object(i.a)({},t.typography.body1),{},{marginLeft:t.spacing(4)}),"& pre":{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}}},textAlignLeft:{textAlign:"left"},textAlignCenter:{textAlign:"center"},textAlignRight:{textAlign:"right"},textAlignJustify:{textAlign:"justify"}}})),S=function(t){var e=t.post,n=t.setPost,o=t.currentUserName,l=t.className,O=Object(c.a)(t,k),S=C(),T=Object(h.b)(),N=Object(r.useRef)(null),B=Object(r.useState)(x.EditorState.createEmpty()),I=Object(a.a)(B,2),w=I[0],R=I[1],E=function(t){R(t),n(Object(i.a)(Object(i.a)({},e),{},{description:JSON.stringify(Object(x.convertToRaw)(t.getCurrentContent()))}))};return Object(v.jsx)(j.a,Object(i.a)(Object(i.a)({},O),{},{className:Object(s.default)(S.root,l),children:Object(v.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){if(t.preventDefault(),e._id){var a=e._id,c={description:JSON.stringify(Object(x.convertToRaw)(w.getCurrentContent())),profilePicture:e.profilePicture,author:e.author,date:e.date,uid:e.uid};T(Object(f.e)(c,a))}else{var o=Object(i.a)(Object(i.a)({},e),{},{date:new Date});T(Object(f.a)(o))}n({description:x.EditorState.createEmpty()})},children:Object(v.jsxs)(d.a,{className:S.paper,elevation:1,children:[Object(v.jsx)(m.a,{editorState:w,onToggle:function(t,e){if("blockType"===t){if(["left","center","right","justify"].includes(e)){var n=x.Modifier.setBlockData(w.getCurrentContent(),w.getSelection(),{"text-align":e}),a=x.EditorState.push(w,n,"change-block-data");return void R(a)}R(x.RichUtils.toggleBlockType(w,e))}else R(x.RichUtils.toggleInlineStyle(w,e))}}),Object(v.jsx)(b.a,{}),Object(v.jsx)("div",{className:S.editorContainer,onClick:function(){N.current.focus()},children:Object(v.jsx)(x.Editor,{blockRenderMap:y.a,blockStyleFn:function(t){var e,n=t.getData().get("text-align");if(n){var a="textAlign".concat((e=n).charAt(0).toUpperCase()+e.slice(1));return S[a]}return""},editorState:w,handleKeyCommand:function(t,e){var n=x.RichUtils.handleKeyCommand(e,t);return!!n&&(E(n),!0)},keyBindingFn:function(t){if(9!==t.keyCode)return Object(x.getDefaultKeyBinding)(t);var e=x.RichUtils.onTab(t,w,4);e!==w&&E(e)},onChange:E,placeholder:"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e? ".concat(o),ref:N,spellCheck:!0})}),Object(v.jsx)(u.a,{title:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",type:"submit",children:Object(v.jsx)(p.a,{color:e.description.length>0?"primary":"default",children:Object(v.jsx)(g.a,{})})})]})})}))}},1148:function(t,e,n){"use strict";n(707),n(715),n(34),n(0),n(30),n(1159),n(1160);var a=n(576);n(1),Object(a.a)((function(t){return{gallery:{maxWidth:"50%"}}}))},781:function(t,e,n){"use strict";n.d(e,"a",(function(){return F}));var a=n(7),c=n(17),i=n(12),o=(n(0),n(3)),r=n(147),s=n.n(r),l=n(576),j=n(456),d=n(432),b=n(827),u=n(250),p=n.n(u),O=n(831),g=n.n(O),h=n(832),f=n.n(h),m=n(834),x=n.n(m),y=n(833),v=n.n(y),k=n(835),C=n.n(k),S=n(830),T=n.n(S),N=n(1),B=["active","tooltip","children"],I=["editorState","onToggle","className"],w=Object(l.a)((function(t){return{root:{},inner:{padding:t.spacing(1),display:"flex",alignItems:"center"}}})),R=Object(l.a)((function(t){return{button:{padding:0,width:32,height:32,minWidth:32,color:t.palette.icon,"& + &":{marginLeft:t.spacing(1)}},activeButton:{backgroundColor:Object(b.fade)(t.palette.primary.main,.1),color:t.palette.primary.main}}})),E=[{blockType:"header-one",tooltip:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1",text:"H1"},{blockType:"header-two",tooltip:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2",text:"H2"},{blockType:"header-three",tooltip:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3",text:"H3"},{blockType:"header-four",tooltip:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4",text:"H4"},{blockType:"header-five",tooltip:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5",text:"H5"},{blockType:"header-six",tooltip:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 6",text:"H6"},{blockType:"blockquote",tooltip:"\u0426\u0438\u0442\u0430\u0442\u0430",icon:T.a},{blockType:"unordered-list-item",tooltip:"\u041d\u0435\u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",icon:g.a},{blockType:"ordered-list-item",tooltip:"\u0423\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",icon:f.a},{blockType:"code-block",tooltip:"\u0411\u043b\u043e\u043a \u043a\u043e\u0434\u0430",icon:p.a}],D=[{inlineStyle:"BOLD",tooltip:"\u0416\u0438\u0440\u043d\u044b\u0439",icon:v.a},{inlineStyle:"ITALIC",tooltip:"\u041a\u0443\u0440\u0441\u0438\u0432",icon:x.a},{inlineStyle:"UNDERLINE",tooltip:"\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0435",icon:C.a},{inlineStyle:"CODE",tooltip:"\u041c\u043e\u043d\u043e\u0448\u0438\u0440\u0438\u043d\u043d\u044b\u0439",icon:p.a}],P=function(t){var e=t.active,n=t.tooltip,r=t.children,s=Object(i.a)(t,B),l=R();return Object(N.jsx)(j.a,{title:n,children:Object(N.jsx)(d.a,Object(a.a)(Object(a.a)({},s),{},{className:Object(o.default)(l.button,Object(c.a)({},l.activeButton,e)),children:r}))})},L=function(t){var e=t.editorState,n=t.onToggle,a=e.getSelection(),c=e.getCurrentContent().getBlockForKey(a.getStartKey()).getType(),i=e.getCurrentContent().getBlockForKey(a.getStartKey()).getData();return Object(N.jsx)(N.Fragment,{children:E.map((function(t){var e=!1;return e=["left","center","right","justify"].includes(t.blockType)?i.get("text-align")===t.blockType:t.blockType===c,Object(N.jsx)(P,{active:e,onClick:function(e){return function(t,e){t.preventDefault(),n("blockType",e)}(e,t.blockType)},tooltip:t.tooltip,children:t.icon?Object(N.jsx)(t.icon,{}):t.text},t.blockType)}))})},A=function(t){var e=t.editorState,n=t.onToggle,a=e.getCurrentInlineStyle();return Object(N.jsx)(N.Fragment,{children:D.map((function(t){return Object(N.jsx)(P,{active:a.has(t.inlineStyle),onClick:function(e){return function(t,e){t.preventDefault(),n("inlineStyle",e)}(e,t.inlineStyle)},tooltip:t.tooltip,children:t.icon?Object(N.jsx)(t.icon,{}):t.text},t.inlineStyle)}))})},F=function(t){var e=t.editorState,n=t.onToggle,c=t.className,r=Object(i.a)(t,I),l=w();return Object(N.jsx)("div",Object(a.a)(Object(a.a)({},r),{},{className:Object(o.default)(l.root,c),children:Object(N.jsx)(s.a,{children:Object(N.jsxs)("div",{className:l.inner,children:[Object(N.jsx)(L,{editorState:e,onToggle:n}),Object(N.jsx)(A,{editorState:e,onToggle:n})]})})}))}},782:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(18),c=n(112);var i=Object(a.Map)({unstyled:{element:"p"},paragraph:{element:"p"}}),o=c.DefaultDraftBlockRenderMap.merge(i)},945:function(t,e,n){"use strict";n.d(e,"a",(function(){return pt}));var a=n(7),c=n(17),i=n(34),o=n(12),r=n(0),s=n(25),l=n(3),j=n(9),d=n.n(j),b=n(576),u=n(4),p=n(454),O=n(438),g=n(560),h=n(57),f=n(431),m=n(550),x=n(456),y=n(430),v=n(1166),k=n.n(v),C=n(1),S=(Object(b.a)((function(t){return{root:{display:"flex",marginBottom:t.spacing(2)},bubble:{flexGrow:1,padding:t.spacing(1),marginLeft:t.spacing(2),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.default},header:{display:"flex",alignItems:"center"},time:{marginLeft:"auto"},message:{marginTop:t.spacing(1)}}})),n(96)),T=n(443),N=n(374),B=n(233),I=n.n(B),w=n(759),R=n.n(w),E=n(786),D=n.n(E),P=["className"],L=Object(b.a)((function(t){return{root:{display:"flex",alignItems:"center"},paper:{flexGrow:1,marginLeft:t.spacing(2),padding:t.spacing(.5,2)},input:{width:"100%"},divider:{width:1,height:24},fileInput:{display:"none"}}})),A=function(t){var e=t.className,n=Object(o.a)(t,P),c=L(),s=Object(r.useRef)(null),j=Object(r.useState)(""),d=Object(i.a)(j,2),b=d[0],u=d[1],p=function(){s.current.click()};return Object(C.jsxs)("div",Object(a.a)(Object(a.a)({},n),{},{className:Object(l.default)(c.root,e),children:[Object(C.jsx)(g.a,{alt:"Person",src:"https://sun9-37.userapi.com/impg/P4iaWmLhlicRzZvLAC_er6toAB8kH8-HYoosYg/jnY0KD1HkXw.jpg?size=1365x2048&quality=96&sign=501cc11eaab8c5bbfccf5c825b4d43c5&type=album"})," ",Object(C.jsx)(S.a,{className:c.paper,elevation:1,children:Object(C.jsx)(T.a,{className:c.input,disableUnderline:!0,onChange:function(t){t.persist(),u(t.target.value)},placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c"})}),Object(C.jsx)(x.a,{title:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",children:Object(C.jsx)(N.a,{color:b.length>0?"primary":"default",children:Object(C.jsx)(I.a,{})})}),Object(C.jsx)(y.a,{className:c.divider}),Object(C.jsx)(x.a,{title:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",children:Object(C.jsx)(N.a,{edge:"end",onClick:p,children:Object(C.jsx)(R.a,{})})}),Object(C.jsx)(x.a,{title:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b",children:Object(C.jsx)(N.a,{edge:"end",onClick:p,children:Object(C.jsx)(D.a,{})})}),Object(C.jsx)("input",{className:c.fileInput,ref:s,type:"file"})]}))},F=(n(432),n(235)),H=n.n(F),_=n(236),U=n.n(_),z=(n(237),Object(b.a)((function(t){return{root:{display:"flex",alignItems:"center"},likeButton:{},likedButton:{color:u.a.red[600]},shareButton:{marginLeft:"auto"},shareIcon:{marginRight:t.spacing(1)}}})),n(437)),K=n(433),G=n(434),J=n(445),M=n(436),W=n(761),q=n.n(W),Y=n(787),V=n.n(Y),X=n(1158),Z=n.n(X),Q=n(836),$=n.n(Q),tt=n(29),et=n(395),nt=n(11),at=["posts","post","setPost","closedOptions","handleCloseOptions","anchorEl"],ct=Object(b.a)((function(){return{root:{width:200,maxWidth:"100%"},actions:{backgroundColor:u.a.grey[50],justifyContent:"center"}}})),it=function(t){var e=t.posts,n=t.post,c=t.setPost,i=(t.closedOptions,t.handleCloseOptions,t.anchorEl),r=Object(o.a)(t,at),s=ct(),l=Object(tt.c)((function(t){return t.auth})),j=Object(tt.c)((function(t){return t.userById})),d=Object(tt.b)();return Object(C.jsx)(z.a,Object(a.a)(Object(a.a)({},r),{},{anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(C.jsxs)("div",{className:s.root,children:[Object(C.jsx)(y.a,{}),l._id===j._id?Object(C.jsxs)(K.a,{children:[Object(C.jsxs)(G.a,{button:!0,onClick:function(){return function(t){var n=e.find((function(e){return e._id===t}));c(Object(a.a)({},n)),window.scrollTo({top:0,left:0,behavior:"smooth"}),nt.b.info("\u0412 \u043f\u043e\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u043f\u0438\u0448\u0435\u0442\u0435 \u043f\u043e\u0441\u0442 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c...",{position:nt.b.POSITION.BOTTOM_RIGHT})}(n._id)},children:[Object(C.jsx)(J.a,{children:Object(C.jsx)(q.a,{})}),Object(C.jsx)(M.a,{primary:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u0442\r (\u041d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0432 \u043f\u043e\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c)"})]}),Object(C.jsxs)(G.a,{button:!0,onClick:function(){return t=n._id,void d(Object(et.b)(t));var t},children:[Object(C.jsx)(J.a,{children:Object(C.jsx)(V.a,{})}),Object(C.jsx)(M.a,{primary:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442"})]})]}):Object(C.jsxs)(K.a,{children:[Object(C.jsxs)(G.a,{button:!0,children:[Object(C.jsx)(J.a,{children:Object(C.jsx)($.a,{})}),Object(C.jsx)(M.a,{primary:"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u0441\u0442"})]}),Object(C.jsxs)(G.a,{button:!0,children:[Object(C.jsx)(J.a,{children:Object(C.jsx)(Z.a,{})}),Object(C.jsx)(M.a,{primary:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]}),Object(C.jsx)(y.a,{})]})}))},ot=n(710),rt=n.n(ot),st=n(448),lt=n(319),jt=n.n(lt),dt=(n(1148),n(112)),bt=["scrollRef","posts","post","setPost","className"],ut=Object(b.a)((function(t){return{root:{},subheader:{display:"flex",alignItems:"center"},accessTimeIcon:{color:t.palette.text.secondary,fontSize:"14px",height:14,width:14,marginRight:6},content:{paddingTop:0},editorField:{marginBottom:t.spacing(1)},message:{marginBottom:t.spacing(2)},mediaArea:{marginBottom:t.spacing(2)},media:{backgroundPosition:"initial"},divider:{marginTop:t.spacing(2),marginBottom:t.spacing(2)},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{},likeButton:{},likedButton:{color:u.a.red[600]},actions:{display:"flex",alignItems:"center"},actionsGroup:{marginRight:t.spacing(2),marginLeft:t.spacing(2),marginBottom:t.spacing(2)}}})),pt=function(t){var e=t.scrollRef,n=t.posts,j=t.post,b=t.setPost,u=t.className,v=Object(o.a)(t,bt),S=ut(),T=Object(r.useState)(!1),B=Object(i.a)(T,2),I=B[0],w=B[1],R=Object(tt.b)(),E=Object(tt.c)((function(t){return t.auth._id}));var D=Object(r.useState)(j.likes.length),P=Object(i.a)(D,2),L=P[0],F=P[1],_=Object(r.useState)(j.likes.some((function(t){return t===E}))),z=Object(i.a)(_,2),K=z[0],G=z[1],J=function(){try{R(Object(et.d)(j._id,E))}catch(t){}F(K?L-1:L+1),G(!K)},M=Object(r.useState)(!1),W=Object(i.a)(M,2),q=W[0],Y=W[1],V=function(){Y(!1)},X=Object(r.useRef)(null);return Object(C.jsxs)(p.a,Object(a.a)(Object(a.a)({},v),{},{className:Object(l.default)(S.root,u),ref:e,children:[Object(C.jsx)(it,{anchorEl:X.current,onClose:V,open:q,handleCloseOptions:V,closedOptions:q,post:j,setPost:b,posts:n}),Object(C.jsx)(O.a,{avatar:Object(C.jsx)(g.a,{alt:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430",component:s.b,src:j.profilePicture,to:"profile/".concat(j.uid,"/wall")}),action:Object(C.jsx)(N.a,{"aria-haspopup":"true",onClick:function(){Y(!0)},ref:X,children:Object(C.jsx)(rt.a,{})}),disableTypography:!0,subheader:Object(C.jsxs)("div",{className:S.subheader,children:[Object(C.jsx)(k.a,{className:S.accessTimeIcon}),Object(C.jsx)(h.a,{variant:"body2",children:d()(j.date).fromNow()})]}),title:Object(C.jsx)(f.a,{color:"textPrimary",component:s.b,to:"profile/".concat(j.uid,"/wall"),variant:"h6",children:j.author})}),Object(C.jsx)(m.a,{className:S.content,children:Object(C.jsx)("div",{className:S.editorField,children:Object(C.jsx)(dt.Editor,{editorState:dt.EditorState.createWithContent(Object(dt.convertFromRaw)(JSON.parse(j.description))),readOnly:!0})})}),Object(C.jsxs)("div",{className:S.actionsGroup,children:[Object(C.jsxs)("div",{className:S.actions,children:[K?Object(C.jsx)(N.a,{className:S.likedButton,onClick:J,size:"small",children:Object(C.jsx)(H.a,{})}):Object(C.jsx)(x.a,{title:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",children:Object(C.jsx)(N.a,{className:S.likeButton,onClick:J,size:"small",children:Object(C.jsx)(U.a,{})})}),Object(C.jsxs)(h.a,{color:"textSecondary",variant:"subtitle1",children:["\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c ",L," \u043b\u044e\u0434\u044f\u043c"]}),Object(C.jsxs)(N.a,{size:"small",className:Object(l.default)(S.expand,Object(c.a)({},S.expandOpen,I)),onClick:function(){w(!I)},"aria-expanded":I,"aria-label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",children:[Object(C.jsx)(h.a,{color:"textSecondary",variant:"subtitle1",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),Object(C.jsx)(jt.a,{})]})]}),Object(C.jsxs)(st.a,{in:I,timeout:"auto",unmountOnExit:!0,children:[Object(C.jsx)(y.a,{className:S.divider}),Object(C.jsx)(y.a,{className:S.divider}),Object(C.jsx)(A,{})]})]})]}))}},946:function(t,e,n){"use strict";n(7),n(12),n(0),n(3);var a=n(576);n(9),n(1167),n(1168),n(1169),n(1170),n(1171),n(1172),n(666),n(57),n(1),Object(a.a)((function(t){return{root:{},timelineItem:{},message:{}}})),n(29),n(395),Object(a.a)((function(t){return{root:{marginTop:t.spacing(1)}}}))}}]);
//# sourceMappingURL=4.f16c5826.chunk.js.map